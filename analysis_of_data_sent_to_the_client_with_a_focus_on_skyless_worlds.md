üìä –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó –û–¢–ü–†–ê–í–ö–ò –î–ê–ù–ù–´–• –ö–õ–ò–ï–ù–¢–£
üåç –ú–ò–†–´ –ë–ï–ó –ù–ï–ë–ê (hasNoSky = true)
–ò–∑–º–µ—Ä–µ–Ω–∏—è —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º –Ω–µ–±–æ–º:
The End (WorldProviderEnd.java:21)

dimensionId = 1
hasNoSky = true
calculateCelestialAngle() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.0F (–Ω–µ—Ç —Ü–∏–∫–ª–∞ –¥–µ–Ω—å/–Ω–æ—á—å)
canRespawnHere() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false
isSkyColored() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false
Nether (WorldProviderHell.java:19)

dimensionId = -1
hasNoSky = true
calculateCelestialAngle() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.5F
canRespawnHere() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false
WorldProviderEmpty (WorldProviderEmpty.java)

‚ö†Ô∏è –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç hasNoSky, –∑–Ω–∞—á–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é hasNoSky = false
–≠—Ç–æ –æ–±—ã—á–Ω—ã–π –º–∏—Ä —Å –Ω–µ–±–æ–º!
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç ChunkProviderEmpty –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—É—Å—Ç—ã—Ö —á–∞–Ω–∫–æ–≤
–í —Å—Ç—Ä–æ–∫–µ 41: –≤—ã–∑—ã–≤–∞–µ—Ç generateSkylightMap() - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Å–≤–µ—â–µ–Ω–∏–µ –Ω–µ–±–∞
üì¶ –û–¢–ü–†–ê–í–ö–ê –î–ê–ù–ù–´–• –ß–ê–ù–ö–û–í
S21PacketChunkData - –ì–ª–∞–≤–Ω—ã–π –ø–∞–∫–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–∞–Ω–∫–æ–≤
–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–°–û–ë–ï–ù–ù–û–°–¢–¨ –¥–ª—è –º–∏—Ä–æ–≤ –±–µ–∑ –Ω–µ–±–∞:

// S21PacketChunkData.java:261-271
if (!p_149269_0_.worldObj.provider.hasNoSky)
{
    for (l = 0; l < aextendedblockstorage.length; ++l)
    {
        if (aextendedblockstorage[l] != null && ...) {
            aextendedblockstorage[l].getSlot().copySkylight(abyte, j);
            j += 2048;  // 2048 –±–∞–π—Ç –Ω–∞ —Å–µ–∫—Ü–∏—é
        }
    }
}
–ï—Å–ª–∏ hasNoSky = true ‚Üí –¥–∞–Ω–Ω—ã–µ skylight –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è!

–≠–∫–æ–Ω–æ–º–∏—è: 2048 –±–∞–π—Ç √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ü–∏–π –Ω–∞ –∫–∞–∂–¥—ã–π —á–∞–Ω–∫
–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —á–∞–Ω–∫–∞ (16 —Å–µ–∫—Ü–∏–π): —ç–∫–æ–Ω–æ–º–∏—è ~32 KB –Ω–∞ —á–∞–Ω–∫
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–∫–µ—Ç–µ —á–∞–Ω–∫–∞ (–ø–æ—Ä—è–¥–æ–∫):
Block IDs (4096 –±–∞–π—Ç –Ω–∞ —Å–µ–∫—Ü–∏—é) - —Å—Ç—Ä–æ–∫–∏ 232-239
Block Metadata (2048 –±–∞–π—Ç) - —Å—Ç—Ä–æ–∫–∏ 243-250
Block Light (2048 –±–∞–π—Ç) - —Å—Ç—Ä–æ–∫–∏ 252-259
Sky Light (2048 –±–∞–π—Ç) - —Å—Ç—Ä–æ–∫–∏ 261-271 - –ü–†–û–ü–£–°–ö–ê–ï–¢–°–Ø –µ—Å–ª–∏ hasNoSky=true
Block MSB (2048 –±–∞–π—Ç) - —Å—Ç—Ä–æ–∫–∏ 273-283
Biome Array (256 –±–∞–π—Ç, —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª–Ω—ã—Ö —á–∞–Ω–∫–æ–≤) - —Å—Ç—Ä–æ–∫–∏ 285-290
–ö–æ–º–ø—Ä–µ—Å—Å–∏—è –¥–∞–Ω–Ω—ã—Ö:
Deflater —Å —É—Ä–æ–≤–Ω–µ–º —Å–∂–∞—Ç–∏—è 7 (S21PacketChunkData.java:74)
–ú–µ—Ç–æ–¥ deflate() (—Å—Ç—Ä–æ–∫–∏ 72-106)
–î–ª—è ChunkSnapshot: —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ UMHooks.extractAndDeflateChunkPacketData() (—Å—Ç—Ä–æ–∫–∞ 79)
üöÄ –°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø –û–¢–ü–†–ê–í–ö–û–ô –ß–ê–ù–ö–û–í
ChunkSendManager - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ (—Å—Ç—Ä–æ–∫–∏ 206-265):
MIN_RATE = 0.2 —á–∞–Ω–∫–∞/—Ç–∏–∫
MAX_RATE = –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (maxSendRate)

–ê–ª–≥–æ—Ä–∏—Ç–º –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:
- –ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞ ‚Üí rate += 0.14
- –ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å < maxRate ‚Üí rate += 0.07
- –ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å —Ä–∞—Å—Ç–µ—Ç ‚Üí rate -= 0.07 –∏–ª–∏ 0.14
–ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–∞–Ω–∫–∞:
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—á–µ—Ä–µ–¥–∏ (—Å—Ç—Ä–æ–∫–∏ 80-93)

–ü–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –≤–∑–≥–ª—è–¥–∞ –∏–≥—Ä–æ–∫–∞ (BlockFace.yawToFace())
–ü–æ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –æ—Ç –∏–≥—Ä–æ–∫–∞
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 325)

loadAsyncWithRadius() —Å —Ä–∞–¥–∏—É—Å–æ–º 1
–°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 470)

ChunkSnapshot.of(chunk) - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ!
Async –æ–±—Ä–∞–±–æ—Ç–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 486-497):

Anti-XRay –æ–±—Ä–∞–±–æ—Ç–∫–∞
–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞
–ö–æ–º–ø—Ä–µ—Å—Å–∏—è (deflate)
–û—Ç–ø—Ä–∞–≤–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 505)

scheduleOutboundPacket() —á–µ—Ä–µ–∑ NetworkManager
–° callback –¥–ª—è –¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∞ —Å—á–µ—Ç—á–∏–∫–∞ –æ—á–µ—Ä–µ–¥–∏
